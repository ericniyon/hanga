(()=>{var i=function(i,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$("#district_id");i&&(e.empty(),e.append("<option value=''>CHOOSE</option>"),$.getJSON("/districts/"+i).done((function(i){i.forEach((function(i){e.append("<option value='"+i.id+"' >"+i.name+"</option>")})),e.val(a)})))},a=function(i,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$("#sector_id");i&&$.getJSON("/sectors/"+i,(function(i){e.empty(),e.append('<option value="">CHOOSE</option>'),$.each(i,(function(i,a){e.append('<option value="'+a.id+'">'+a.name+"</option>")})),e.val(a)}))},e=function(i,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$("#cell_id");i&&$.getJSON("/cells/"+i,(function(i){e.empty(),e.append('<option value="">CHOOSE</option>'),$.each(i,(function(i,a){e.append('<option value="'+a.id+'">'+a.name+"</option>")})),e.val(a)}))},n=function(i,a){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$("#village_id");i&&$.getJSON("/villages/"+i,(function(i){e.empty(),e.append('<option value="">CHOOSE</option>'),$.each(i,(function(i,a){e.append('<option value="'+a.id+'">'+a.name+"</option>")})),e.val(a)}))};window.getFieldOfStudies=function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$("#field_of_study_id");e.empty(),e.append('<option value=""></option>'),$.ajax({url:"/field-of-study/"+i+"/get",method:"GET",success:function(i){i.forEach((function(i,a){e.append('<option value="'+i.id+'">'+i.name+"</option>")})),e.val(a)}})},$((function(){var t=$("#iworker_type");t.on("change",(function(){"Individual"===$(this).val()?$(".individual").removeClass("hide"):$(".individual").addClass("hide"),"Company"===$(this).val()?$(".company").removeClass("hide"):$(".company").addClass("hide")})),t.trigger("change"),$("#addTrainingButton").on("click",(function(){$("#trainingId").val(0),$("#addTrainingModal").modal()})),$(".js-edit-training").on("click",(function(){$("#trainingId").val($(this).data("id")),$("#training_name").val($(this).data("name")),$("#issuer").val($(this).data("issuer")),$("#issuance_date").val($(this).data("issuance_date")),$("#addTrainingModal").modal()})),$("#formSaveTraining").on("submit",(function(i){i.preventDefault();var a=$(this),e=a.find(":submit");if(a.valid()){e.addClass("spinner spinner-right spinner-white").prop("disabled",!0);var n=new FormData(this);n.append("iworker_registration_id",$("#id").val()),$.ajax({url:a.attr("action"),method:a.attr("method"),data:n,dataType:"json",cache:!1,contentType:!1,processData:!1,completed:function(i){},success:function(i){location.reload()},error:function(i){e.removeClass("spinner spinner-right spinner-white").prop("disabled",!1)}})}})),$("#addExperienceButton").on("click",(function(){$("#experienceId").val(0),$("#addExperienceModal").modal()})),$(".js-edit-experience").on("click",(function(){$("#experienceId").val($(this).data("id")),$("#service_offered").val($(this).data("service_offered")),$("#experience_client").val($(this).data("client")),$("#experience_description").val($(this).data("description")),$("#year_of_completion").val($(this).data("year_of_completion")),$("#addExperienceModal").modal()})),$("#formSaveExperience").on("submit",(function(i){i.preventDefault();var a=$(this),e=a.find(":submit");if(a.valid()){e.addClass("spinner spinner-right spinner-white").prop("disabled",!0);var n=new FormData(this);n.append("iworker_registration_id",$("#id").val()),$.ajax({url:a.attr("action"),method:a.attr("method"),data:n,dataType:"json",cache:!1,contentType:!1,processData:!1,completed:function(i){},success:function(i){location.reload()},error:function(i){e.removeClass("spinner spinner-right spinner-white").prop("disabled",!1)}})}})),$("#addBranchButton").on("click",(function(){$("#branchId").val(0),$("#addBranchModal").modal()})),$(".js-edit-branch").on("click",(function(){var t=$("#branch_province_id"),o=$("#branch_district_id"),d=$(this).data("district"),r=$("#branch_sector_id"),l=$(this).data("province"),s=$("#branch_cell_id"),c=$("#branch_village_id"),p=$(this).data("sector"),h=$(this).data("cell"),u=$(this).data("village");$("#branchId").val($(this).data("id")),$("#branch_name").val($(this).data("name")),t.val(l),o.val(d),r.val(p),s.val(h),c.val(u),i(l,d,o),a(d,p,r),e(p,h,s),n(h,u,c),$("#addBranchModal").modal()})),$("#formSaveBranch").on("submit",(function(i){i.preventDefault();var a=$(this),e=a.find(":submit");if(a.valid()){e.addClass("spinner spinner-right spinner-white").prop("disabled",!0);var n=new FormData(this);n.append("application_id",$("#application_id").val()),$.ajax({url:a.attr("action"),method:a.attr("method"),data:n,dataType:"json",cache:!1,contentType:!1,processData:!1,completed:function(i){},success:function(i){location.reload()},error:function(i){e.removeClass("spinner spinner-right spinner-white").prop("disabled",!1)}})}})),$("#branch_province_id").on("change",(function(){i($(this).val(),0,$("#branch_district_id"))})),$("#branch_district_id").on("change",(function(){a($(this).val(),0,$("#branch_sector_id"))})),$("#branch_sector_id").on("change",(function(){e($(this).val(),0,$("#branch_cell_id"))})),$("#branch_cell_id").on("change",(function(){n($(this).val(),0,$("#branch_village_id"))})),$("#addEmployeeButton").on("click",(function(){$("#employeeId").val(0),$("#addEmployeeModal").modal()})),$(".js-edit-employee").on("click",(function(){$("#employeeId").val($(this).data("id")),$("#employee_name").val($(this).data("name")),$("#employee_position").val($(this).data("position")),$("#employee_recruitment_date").val($(this).data("recruitment_date"));var i=$(this).data("level_of_study_id");$("#employee_level_of_study_id").val(i),getFieldOfStudies(i,$(this).data("field_of_study"),$("#employee_field_of_study")),$("#addEmployeeModal").modal()})),$("#formSaveEmployee").on("submit",(function(i){i.preventDefault();var a=$(this);if(a.valid()){var e=new FormData(this);e.append("iworker_registration_id",$("#id").val()),function(i,a){var e=i.find(":submit");e.addClass("spinner spinner-right spinner-white").prop("disabled",!0),$.ajax({url:i.attr("action"),method:i.attr("method"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1,completed:function(i){},success:function(i){location.reload()},error:function(i){e.removeClass("spinner spinner-right spinner-white").prop("disabled",!1)}})}(a,e)}})),$("#employer_id").select2({placeholder:"Select your employer",minimumInputLength:2,minimumResultsForSearch:20,ajax:{url:"/search-employers",delay:250,dataType:"json",type:"GET",data:function(i){return{search:i.term}},processResults:function(i){return{results:$.map(i,(function(i){return{text:i.name,id:i.id}}))}}}}),$("#addAffiliationButton").on("click",(function(){$("#affiliationId").val(0),$("#addAffiliationModal").modal()})),$(".js-edit-affiliation").on("click",(function(){$("#affiliationId").val($(this).data("id")),$("#employer_id").val($(this).data("employer_id")),$("#position").val($(this).data("position")),$("#description").val($(this).data("description")),$("#addAffiliationModal").modal()})),$("#formSaveAffiliation").on("submit",(function(i){i.preventDefault();var a=$(this),e=a.find(":submit");if(a.valid()){e.addClass("spinner spinner-right spinner-white").prop("disabled",!0);var n=new FormData(this);$.ajax({url:a.attr("action"),method:a.attr("method"),data:n,dataType:"json",cache:!1,contentType:!1,processData:!1,completed:function(i){},success:function(i){location.reload()},error:function(i){showErrors(i),e.removeClass("spinner spinner-right spinner-white").prop("disabled",!1)}})}})),$("#level_of_study_id").on("change",(function(){$(this).val()&&getFieldOfStudies($(this).val())})),$("#employee_level_of_study_id").on("change",(function(){$(this).val()&&getFieldOfStudies($(this).val(),"",$("#employee_field_of_study"))}))}))})();
//# sourceMappingURL=iworker.js.map